"use strict";(self.webpackChunkthexanh=self.webpackChunkthexanh||[]).push([[202,109,867,826],{7826:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(5043),a=s(6213),n=s(3216),i=s(579);const o=e=>{const t=(0,n.Zp)();return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Product List"}),(0,i.jsx)("ul",{children:e.data.map((e=>(0,i.jsxs)("li",{onClick:()=>t("/greencard/".concat(e._id)),children:[(0,i.jsx)("strong",{children:"Name:"})," ",e.name,(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Category:"})," ",e.category,(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Price:"})," $",e.price,(0,i.jsx)("br",{}),(0,i.jsx)("strong",{children:"Description:"})," ",e.description,(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]},e._id)))})]})},l=()=>{const[e,t]=(0,r.useState)([]);(0,r.useEffect)((()=>{s()}),[]);const s=async()=>{try{const e=(await a.A.get("https://ap-southeast-1.aws.data.mongodb-api.com/app/".concat("greencard-hgxjomf","/endpoint/getproducts"))).data;t(e)}catch(e){console.error("Error fetching data: ",e)}};return(0,i.jsx)("div",{children:(0,i.jsx)(o,{data:e})})}},3867:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(5043),a=s(6244),n=s(443),i=s(3402),o=s(579);const l=new i.qw({id:"greencard-hgxjomf"}),c=e=>{const[t,s]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),m={"ui:submitButtonOptions":{props:{disabled:u},norender:!1,submitText:"\u0110\u0103ng nh\u1eadp"}};return(0,o.jsx)("div",{className:"container-wrapper",children:(0,o.jsxs)("div",{className:"containers",children:[u&&(0,o.jsx)("div",{className:"spinner",children:"Loading..."}),t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Ay,{schema:{type:"object",required:["email","password"],properties:{email:{type:"string",title:"T\xean \u0111\u0103ng nh\u1eadp"},password:{type:"string",title:"M\u1eadt kh\u1ea9u",format:"password"}}},validator:n.Ay,uiSchema:m,onSubmit:async t=>{let{formData:s}=t;h(!0);const{email:r,password:a}=s,n=i.Ji.emailPassword(r,a);try{var o;if("Admin"===(null===(o=(await l.logIn(n)).customData)||void 0===o?void 0:o.type))window.location.href="/greencard/admin";else try{e.setNavigate("home"),setTimeout((()=>{window.location.reload()}),1)}catch(c){console.log(c.error)}}catch(c){console.log(c)}finally{h(!1)}},disabled:u}),(0,o.jsxs)("div",{className:"ml-5 mt-4 flex items-center justify-cent",children:[(0,o.jsx)("p",{className:"mr-2",children:"Qu\xean m\u1eadt kh\u1ea9u?"}),(0,o.jsx)("p",{className:"text-blue-500 cursor-pointer hover:text-blue-700 hover:underline",onClick:()=>s(!1),children:"\u0110\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u ngay!"})]}),(0,o.jsx)("p",{className:"text-blue-500 mt-2 cursor-pointer hover:text-blue-700 hover:underline",onClick:()=>e.setNavigate("register"),children:"\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);try{await l.emailPasswordAuth.sendResetPasswordEmail({email:c}),alert("\u0110\xe3 g\u1eedi email \u0111\u1eb7t l\u1ea1i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng!")}catch(t){console.log(t)}finally{h(!1)}},children:[(0,o.jsxs)("label",{children:["Email:",(0,o.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),disabled:u})]}),(0,o.jsx)("button",{type:"submit",disabled:u,children:"Submit"})]})}),(0,o.jsx)("p",{className:"text-blue-500 mt-4  cursor-pointer hover:text-blue-700 hover:underline",onClick:()=>s(!0),children:"Tr\u1edf l\u1ea1i \u0111\u0103ng nh\u1eadp"})]})]})})}},9202:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var r=s(5043),a=s(3867),n=s(109),i=s(7826),o=s(579);const l=e=>{const[t,s]=(0,r.useState)("home");(0,r.useEffect)((()=>{var t,r;"Admin"===(null===(t=e.user)||void 0===t||null===(r=t.customData)||void 0===r?void 0:r.type)&&(window.location.href="/greencard/admin"),s(e.navigate)}),[e.navigate]);return(0,o.jsx)("div",{children:(0,o.jsx)("div",{children:(()=>{switch(t){case"login":return(0,o.jsx)(a.default,{setNavigate:s});case"register":return(0,o.jsx)(n.default,{setNavigate:s});case"home":return(0,o.jsx)(i.default,{setNavigate:s});default:return}})()})})}},109:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(5043),a=s(6244),n=s(443),i=s(3402),o=s(579);const l=new i.qw({id:"greencard-hgxjomf"}),c=e=>{const[t,s]=(0,r.useState)(!1);return(0,o.jsx)("div",{className:"container-wrapper",children:(0,o.jsxs)("div",{className:"containers",children:[t&&(0,o.jsx)("div",{className:"spinner",children:"Loading..."}),(0,o.jsx)(a.Ay,{schema:{type:"object",required:["email","password","confirm"],properties:{email:{type:"string",title:"T\xean \u0111\u0103ng nh\u1eadp"},password:{type:"string",title:"M\u1eadt kh\u1ea9u",format:"password"},confirm:{type:"string",title:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u",format:"password"}}},validator:n.Ay,uiSchema:{"ui:submitButtonOptions":{props:{disabled:!1},norender:!1,submitText:"\u0110\u0103ng k\xfd"}},onSubmit:async t=>{let{formData:r}=t;s(!0);const{email:a,password:n,confirm:i}=r;if(n===i)try{await l.emailPasswordAuth.registerUser({email:a,password:n}),e.setNavigate("login"),window.location.reload()}catch(o){console.log(o)}finally{s(!1)}else alert("password not match"),s(!1)},disabled:t}),(0,o.jsx)("p",{className:"text-blue-500  mt-4 cursor-pointer  hover:underline",onClick:()=>e.setNavigate("login"),children:"Tr\u1edf l\u1ea1i \u0111\u0103ng nh\u1eadp"})]})})}}}]);
//# sourceMappingURL=202.3d69eaca.chunk.js.map